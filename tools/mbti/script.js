const stories = [{"text": "알람이 울린다. 창밖을 보니 흐린 하늘. 어젯밤 늦게까지 피곤한 하루를 보냈다. 하지만 오늘은 중요한 회의가 있는 날이다. 피곤한 몸을 일으킬까, 조금 더 잘까?", "choices": ["‘5분만 더...’ 하며 알람을 끈다.", "규칙적으로 움직여야지! 하며 자리에서 일어난다."], "scores": [{"P": 1, "I": 1}, {"J": 1, "E": 1}]}, {"text": "출근길, 지하철에 사람이 가득 차 있다. 문이 열릴 때마다 사람들이 밀려든다. 그때 한 사람이 가방을 떨어뜨린다. 어떻게 반응할까?", "choices": ["‘괜히 나섰다가 불편할 수도 있겠지.’ 그냥 모른 척한다.", "‘이런 건 도와줘야지!’ 하며 가방을 주워준다."], "scores": [{"I": 1, "T": 1}, {"E": 1, "F": 1}]}, {"text": "회사에 도착하자마자 팀장이 다가와 급히 보고서를 검토해 달라고 한다. 일정에 없던 요청이지만, 마감이 임박했다. 어떻게 할까?", "choices": ["‘일단 어떻게든 해보자!’ 바로 검토를 시작한다.", "‘기한이 너무 촉박한데... 먼저 계획을 세우자.’"], "scores": [{"P": 1, "E": 1}, {"J": 1, "I": 1}]}, {"text": "점심시간이 되자 동료들이 삼삼오오 모여 점심 메뉴를 정하고 있다. 한 명이 다가와 ‘같이 갈래?’라고 묻는다.", "choices": ["‘좋지! 다 같이 먹으면 더 맛있겠지.’ 흔쾌히 따라간다.", "‘혼자 조용히 먹고 싶어…’ 예의 바르게 거절한다."], "scores": [{"E": 1, "F": 1}, {"I": 1, "T": 1}]}, {"text": "오후 회의 중, 발표자가 갑자기 내게 의견을 물어본다. 미리 생각해둔 답은 없지만, 의견을 말해야 한다.", "choices": ["바로 내 의견을 말하며 대화를 주도한다.", "다른 사람들의 의견을 먼저 듣고 신중히 대답한다."], "scores": [{"E": 1, "J": 1}, {"I": 1, "P": 1}]}, {"text": "친구가 고민을 이야기한다. 상대방이 많이 힘들어 보이는데, 어떤 방식으로 반응할까?", "choices": ["논리적으로 해결책을 제안한다.", "공감하며 위로한다."], "scores": [{"T": 1}, {"F": 1}]}, {"text": "주말 여행을 계획 중이다. 몇 가지 선택지가 있는데, 어떻게 준비할까?", "choices": ["일정을 미리 정하고 예약까지 확실하게 해둔다.", "즉흥적으로 가서 그때그때 즐길 것을 정한다."], "scores": [{"J": 1}, {"P": 1}]}, {"text": "퇴근 후, 운동을 하기로 했다. 그런데 너무 피곤해서 망설여진다.", "choices": ["계획한 운동 루틴을 따라간다.", "그날 기분에 따라 하고 싶은 운동을 한다."], "scores": [{"J": 1}, {"P": 1}]}, {"text": "자기 전에 책을 읽으려 한다. 어떤 책을 선택할까?", "choices": ["자기계발서를 읽으며 배운다.", "소설이나 감성적인 책을 읽는다."], "scores": [{"T": 1, "J": 1}, {"F": 1, "P": 1}]}, {"text": "친구들과 약속이 있는 날이다. 그런데 피곤하다. 어떻게 할까?", "choices": ["그래도 나가서 친구들을 만난다.", "솔직하게 피곤하다고 말하고 다음에 만나자 한다."], "scores": [{"E": 1, "F": 1}, {"I": 1, "T": 1}]}, {"text": "길을 걷다가 비를 맞는 강아지를 발견했다. 하지만 지금 회사에 늦을 수도 있다.", "choices": ["강아지를 안전한 곳으로 데려다 준다.", "시간이 없어 그냥 지나친다."], "scores": [{"F": 1, "E": 1}, {"T": 1, "I": 1}]}, {"text": "회사에서 중요한 프로젝트를 맡게 되었다. 하지만 어떻게 접근할지 고민된다.", "choices": ["세부 계획을 철저히 세운다.", "일단 시작하고 진행하면서 조정한다."], "scores": [{"J": 1, "S": 1}, {"P": 1, "N": 1}]}, {"text": "친구가 고민을 이야기하는데, 내용이 다소 비현실적이다.", "choices": ["논리적으로 현실적인 해결책을 제시한다.", "친구의 감정을 고려하며 공감한다."], "scores": [{"T": 1}, {"F": 1}]}, {"text": "주말에 친구들과 놀이공원에 가기로 했다. 하지만 갑자기 비가 오기 시작했다.", "choices": ["미리 대체할 수 있는 실내 활동을 준비해 둔다.", "그냥 즉흥적으로 새로운 계획을 세운다."], "scores": [{"J": 1}, {"P": 1}]}, {"text": "온라인 쇼핑 중 고민하는 제품이 있다. 어떻게 결정할까?", "choices": ["리뷰를 꼼꼼히 분석하고 결정한다.", "직관적으로 마음에 드는 걸 선택한다."], "scores": [{"J": 1, "S": 1}, {"P": 1, "N": 1}]}, {"text": "회의 중 갑자기 내 의견을 물어보았다. 미리 준비된 내용이 없을 때 어떻게 반응할까?", "choices": ["일단 생각나는 대로 즉흥적으로 이야기한다.", "조용히 듣다가 정리된 후에 의견을 낸다."], "scores": [{"E": 1, "P": 1}, {"I": 1, "J": 1}]}, {"text": "여행 중 길을 잃었다. 스마트폰 배터리도 거의 없다.", "choices": ["사람들에게 적극적으로 물어본다.", "조용히 길을 찾으며 해결 방법을 고민한다."], "scores": [{"E": 1}, {"I": 1}]}, {"text": "동료가 실수를 했다. 하지만 본인은 잘못을 인정하지 않는다.", "choices": ["논리적으로 문제점을 설명하며 바로잡는다.", "상대방이 기분 나쁘지 않게 부드럽게 전달한다."], "scores": [{"T": 1}, {"F": 1}]}, {"text": "퇴근 후, 약속이 없어서 자유 시간이 생겼다. 어떻게 보낼까?", "choices": ["계획해 둔 취미 활동을 한다.", "그때그때 기분에 따라 하고 싶은 걸 한다."], "scores": [{"J": 1}, {"P": 1}]}, {"text": "친구들과 함께 있는 자리에서 갑자기 낯선 사람이 대화에 끼어들었다.", "choices": ["자연스럽게 대화를 이어가며 친해진다.", "낯선 사람과 어울리는 게 불편하다."], "scores": [{"E": 1}, {"I": 1}]}, {"text": "새로운 직장에 출근한 첫날, 어떻게 행동할까?", "choices": ["먼저 다가가서 인사하며 친해진다.", "필요할 때만 대화하며 조용히 적응한다."], "scores": [{"E": 1}, {"I": 1}]}, {"text": "새로운 취미를 배우기로 했다. 어떻게 접근할까?", "choices": ["책과 강의를 찾아 철저히 공부한다.", "일단 해보면서 배우는 것이 더 중요하다."], "scores": [{"J": 1, "S": 1}, {"P": 1, "N": 1}]}, {"text": "저녁에 친구에게서 갑자기 전화가 왔다. 별다른 용건 없이 수다를 떨고 싶어 한다.", "choices": ["반갑게 맞이하며 즐겁게 대화한다.", "간단히 인사하고 대화를 마친다."], "scores": [{"E": 1}, {"I": 1}]}, {"text": "운전 중 네비게이션이 예상과 다른 경로를 안내했다.", "choices": ["일단 안내를 따라가면서 확인한다.", "스스로 지도를 보고 판단한다."], "scores": [{"P": 1, "N": 1}, {"J": 1, "S": 1}]}, {"text": "알람이 울린다. 창밖을 보니 흐린 하늘. 어젯밤 늦게까지 피곤한 하루를 보냈다. 하지만 오늘은 중요한 회의가 있는 날이다. 피곤한 몸을 일으킬까, 조금 더 잘까?", "choices": ["‘5분만 더...’ 하며 알람을 끈다.", "규칙적으로 움직여야지! 하며 자리에서 일어난다."], "scores": [{"P": 1, "I": 1}, {"J": 1, "E": 1}]}, {"text": "출근길, 지하철에 사람이 가득 차 있다. 문이 열릴 때마다 사람들이 밀려든다. 그때 한 사람이 가방을 떨어뜨린다. 어떻게 반응할까?", "choices": ["‘괜히 나섰다가 불편할 수도 있겠지.’ 그냥 모른 척한다.", "‘이런 건 도와줘야지!’ 하며 가방을 주워준다."], "scores": [{"I": 1, "T": 1}, {"E": 1, "F": 1}]}, {"text": "회사에 도착하자마자 팀장이 다가와 급히 보고서를 검토해 달라고 한다. 일정에 없던 요청이지만, 마감이 임박했다. 어떻게 할까?", "choices": ["‘일단 어떻게든 해보자!’ 바로 검토를 시작한다.", "‘기한이 너무 촉박한데... 먼저 계획을 세우자.’"], "scores": [{"P": 1, "E": 1}, {"J": 1, "I": 1}]}, {"text": "점심시간이 되자 동료들이 삼삼오오 모여 점심 메뉴를 정하고 있다. 한 명이 다가와 ‘같이 갈래?’라고 묻는다.", "choices": ["‘좋지! 다 같이 먹으면 더 맛있겠지.’ 흔쾌히 따라간다.", "‘혼자 조용히 먹고 싶어…’ 예의 바르게 거절한다."], "scores": [{"E": 1, "F": 1}, {"I": 1, "T": 1}]}, {"text": "오후 회의 중, 발표자가 갑자기 내게 의견을 물어본다. 미리 생각해둔 답은 없지만, 의견을 말해야 한다.", "choices": ["바로 내 의견을 말하며 대화를 주도한다.", "다른 사람들의 의견을 먼저 듣고 신중히 대답한다."], "scores": [{"E": 1, "J": 1}, {"I": 1, "P": 1}]}];

let currentStory = 0;
let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

function nextStory(choice) {
    const selectedScores = stories[currentStory].scores[choice];
    Object.keys(selectedScores).forEach(type => scores[type] += selectedScores[type]);

    currentStory++;

    if (currentStory < stories.length) {
        loadStory();
    } else {
        showResult();
    }
}

function loadStory() {
    document.getElementById("story-text").textContent = stories[currentStory].text;
    document.getElementById("choice1").textContent = stories[currentStory].choices[0];
    document.getElementById("choice2").textContent = stories[currentStory].choices[1];
}

function showResult() {
    let mbti = (scores.E >= scores.I ? "E" : "I") +
               (scores.S >= scores.N ? "S" : "N") +
               (scores.T >= scores.F ? "T" : "F") +
               (scores.J >= scores.P ? "J" : "P");

    document.getElementById("story-container").style.display = "none";
    document.getElementById("result-container").innerHTML = `<h2>당신의 MBTI 유형: ${mbti}</h2>`;
    document.getElementById("result-container").style.display = "block";
}

window.onload = () => loadStory();
